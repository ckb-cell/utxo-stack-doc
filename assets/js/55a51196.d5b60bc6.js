"use strict";(self.webpackChunkutxo_stack_website=self.webpackChunkutxo_stack_website||[]).push([[668],{6944:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>c,toc:()=>l});var s=t(4848),i=t(8453);const a={sidebar_position:6},r="Exit Mechanism",c={id:"da-exit",title:"Exit Mechanism",description:"In the extreme situation of simultaneous attacks on both the branch chain and DA layer, users can still leverage CSV (client-side verification) and interactive challenges to recover RGB++ assets from a branch chain to the bound RGB++ layer.",source:"@site/docs/da-exit.md",sourceDirName:".",slug:"/da-exit",permalink:"/docs/da-exit",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"docsSidebar",previous:{title:"Cross-Chain Interoperability",permalink:"/docs/cross-chain"},next:{title:"Token Economy",permalink:"/docs/token"}},o={},l=[{value:"Interactive Challenge Process",id:"interactive-challenge-process",level:2},{value:"Watchtower Assistance",id:"watchtower-assistance",level:2},{value:"RGB++ Layer Governance-Triggered Exit",id:"rgb-layer-governance-triggered-exit",level:2},{value:"Conclusion",id:"conclusion",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"exit-mechanism",children:"Exit Mechanism"}),"\n",(0,s.jsx)(n.p,{children:"In the extreme situation of simultaneous attacks on both the branch chain and DA layer, users can still leverage CSV (client-side verification) and interactive challenges to recover RGB++ assets from a branch chain to the bound RGB++ layer."}),"\n",(0,s.jsx)(n.p,{children:"This redundant exit mechanism ensures that the security of user funds depends solely on the RGB++ layer and the challenge mechanism."}),"\n",(0,s.jsx)(n.h2,{id:"interactive-challenge-process",children:"Interactive Challenge Process"}),"\n",(0,s.jsx)(n.p,{children:"When the branch chain and DA layer are simultaneously compromised, users may lack sufficient data from DA layer to independently construct a valid CSV proof. To address this, users need to locally maintain the most recent CSV proof. By utilizing wallets or auxiliary tools that support CSV proof storage, users can securely retain the necessary evidence on their own devices."}),"\n",(0,s.jsx)(n.p,{children:"Upon detecting an attack, users can initiate an interactive challenge within the RGB++ smart contract to prove the asset's state on the branch chain:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Initiate DA Attest Challenge"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The user calls the RGB++ contract to begin the DA attest challenge process."}),"\n",(0,s.jsx)(n.li,{children:"The user provides the asset transaction history and CSV proof from before the most recent challenge period."}),"\n",(0,s.jsx)(n.li,{children:"The user attaches a small bounty to incentivize challenger participation."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Challenger Node Verification"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"challenger nodes monitor the chain for active DA attest challenges."}),"\n",(0,s.jsx)(n.li,{children:"Upon discovery, they compare the on-chain data with their local records."}),"\n",(0,s.jsx)(n.li,{children:"If the UTXO is known and has no subsequent transactions, the challenger ignores/agrees it."}),"\n",(0,s.jsx)(n.li,{children:"If the UTXO has subsequent transactions, the challenger submits the transaction and Merkle proof, terminates the DA attest, and claims the bounty."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Proceed with DA Exit"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If the DA attest remains unchallenged after one challenge period, the user can proceed with the DA exit process by calling the RGB++ contract."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Prioritized Asset Exit"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"To prevent attackers from forging assets and fraudulently exiting, the DA exit process sorts assets based on the block number and transaction index of their last recorded transaction."}),"\n",(0,s.jsx)(n.li,{children:"Honest users and nodes will cease broadcasting transactions upon detecting a DA attack, ensuring that forged assets are ranked after legitimate ones."}),"\n",(0,s.jsx)(n.li,{children:"As a result, the assets of honest users will be prioritized for exit, while forged assets will be unable to exit due to insufficient funds."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Asset Unlocking and Minting on the bound RGB++ Layer"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Upon successful DA exit, the user provides a signature to unlock the assets and destroys the related proof UTXO."}),"\n",(0,s.jsx)(n.li,{children:"The corresponding RGB++ assets are then minted on the bound RGB++ Layer, which operates on a PoW consensus mechanism, providing enhanced security."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This interactive challenge process, combined with the secure asset exit mechanism, ensures the resilience and recoverability of the RGB++ ecosystem against potential attacks targeting on branch chain and DA layer simultaneously."}),"\n",(0,s.jsx)(n.h2,{id:"watchtower-assistance",children:"Watchtower Assistance"}),"\n",(0,s.jsx)(n.p,{children:"The aforementioned exit process requires users to locally maintain CSV proof and continuously monitor the branch chain and DA chain for anomalies, actively initiating challenges when necessary. This may prove burdensome for many users."}),"\n",(0,s.jsxs)(n.p,{children:["To alleviate this, the system introduces ",(0,s.jsx)(n.code,{children:"Watchtower nodes"}),". These nodes continuously observe the chains and, upon detecting an attack, helps the user start the exit process. User participation is only required at the final stage of minting assets."]}),"\n",(0,s.jsx)(n.h2,{id:"rgb-layer-governance-triggered-exit",children:"RGB++ Layer Governance-Triggered Exit"}),"\n",(0,s.jsx)(n.p,{children:"As an ultimate safeguard, in the extreme situation of a DA layer attack, users can vote for a forced exit through the UTXO stack governance contract."}),"\n",(0,s.jsx)(n.p,{children:"If the vote exceeds a 70% threshold, the branch chain state contract on RGB++ Layer will stop accepting new blocks and exit all assets in prioritized order from the branch chain."}),"\n",(0,s.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,s.jsx)(n.p,{children:"The UTXO Stack exit mechanism combines user interactive challenges, watchtower assistance, and governance-triggered forced exit to enhance ecosystem resilience, ensuring the resilience and recoverability of the RGB++ ecosystem against potential attacks that simultaneously target branch chains and DA layer. Its true effectiveness in ensuring ecosystem resilience and recoverability remains to be seen in practice."})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>c});var s=t(6540);const i={},a=s.createContext(i);function r(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);