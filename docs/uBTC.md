# uBTC, Trustless Bitcoin Peg for Layer 2s

uBTC 是一种去信任、去中心化的双向锚定 Bitcoin 资产协议。它运行在 RGB++ 协议层，具有以下特点

- Trustless: 每个 uBTC 都对应超额资产抵押，即使资产锚定的参与者作恶，也能确保用户可以获得足额资产补偿
- Permissionless: uBTC 持有人的资产在与 BTC 互相转换时不受任何审查，无须经过任何人同意
- Efficiency: 资产抵押人拥有很高的资金效率，可以对押金进行再质押获得高额利息，确保协议可以提供更高的容量

## 架构

uBTC Peg Relayer (下称 PR) 提供资金或接收投资者 deleget 的资金质押在 RGB++ 上，获得 PR 的权限。PR 为 uBTC - BTC 兑换提供便利。

- PR 采用 FROST 技术实现 Schnorr Threshold Signature 管理双向资产桥，PR 定期进行轮转
- RGB++ 上存在一个 BTC SPV 轻节点，以获得 BTC 主链上的数据证明
- RGB++ 上的 uBTC 协议确保 PR 无法作恶，一旦出现 PR 联合作恶的情况，他们的押金就会被清算，为用户提供足额补偿

## 去信任喂价

PR 使用 CKB, UTXO 或其他资产作为抵押物为 uBTC 提供价值支撑。对应 CKB/BTC, UTXO/BTC 的比价通过 RGB++ 上的 DEX 直接读取，不依赖任何 Oracle。该喂价会以最近 24hr 成交的平均价格为依据计算抵押物价值。

## 超额抵押

我们按照超额抵押率 150%~200% 来计算可以支持的 uBTC 上限。一旦抵押物低于已发行的 uBTC，则立刻关闭铸造通道，仅保留单向销毁通道，直到超额抵押物重新超过铸造的 uBTC 数量。

## 再质押

与传统的多签桥不同，uBTC 具有去信任和无需许可的特征，用户可以无风险地使用。类似的技术包括 tBTC 和 sBTC。他们都是超额抵押的 BTC 双向资产桥，然而这类超额抵押资产桥虽然提供了资金的安全性，但是由于资金利用率很低（通常要求超过 150% 的超额抵押），且收益很低，因此导致桥的容量有限。

uBTC 的质押资金可以生成 CKBB 和 UTXOB 两种资产凭证，他们可以进一步用来提供给 UTXO Stack 的 DA Layer 以及 UTXO L2 来获得奖励。同时，由于 uBTC 是整个 UTXO Stack 的基础资产，我们要求只有在 uBTC 协议中质押获得的资产凭证才可以为 DA Layer 和 UTXO L2 提供安全质押。通过这种方式，我们即为 uBTC 大幅提高了资金效率，又为它提供了资金容量。

## 安全保障

uBTC 的资产安全由 RGB++ 协议层的合约保障。PR 的任何恶意行为都会被检测并处理，保障用户资产安全。这些恶意行为及其处理方式包括：

- 用户存入 BTC 后，PR 拒绝铸造 uBTC
  - 用户可以利用 SPV 证明自行铸造，不依赖 PR
- PR 不打包用户的 uBTC 的销毁交易
  - 用户可以在 RGB++ 上直接证明自己拥有哪些 uBTC UTXO 并要求销毁退出，PR 需要在一定时间内响应，否则会罚没押金
- PR 不响应用户的出金请求
  - 用户等待 7 天后仍然没有收到出金交易，则可以在 RGB++ 上要求罚没 PR 押金
  - 通过提供 btc spv 证明与挑战，可以证明链上是否存在出金交易
- PR 联合作恶，恶意出金
  - 即出金没有对应到合法的 uBTC UTXO，挑战者可以在 RGB++ 上清算 PR 押金，为受损用户提供赔偿
